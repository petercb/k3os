---
schemaVersion: '2.0.0'

fileExistenceTests:
  - name: grub config
    path: /usr/src/iso/boot/grub/grub.cfg
    shouldExist: true
  - name: config
    path: /usr/src/iso/k3os/system/config.yaml
    shouldExist: true
  - name: iso
    path: /output/k3os.iso
    shouldExist: true
  - name: k3s
    path: /usr/src/iso/k3os/system/k3s/current/k3s
    shouldExist: true
    isExecutableBy: 'any'
  - name: k3s-install
    path: /usr/src/iso/k3os/system/k3s/current/k3s-install.sh
    shouldExist: true
    isExecutableBy: 'any'
  - name: k3os
    path: /usr/src/iso/k3os/system/k3os/current/k3os
    shouldExist: true
    isExecutableBy: 'any'
  - name: k3os-install
    path: /usr/src/iso/k3os/system/k3os/current/k3os-install.sh
    shouldExist: true
    isExecutableBy: 'any'
  - name: initrd
    path: /usr/src/iso/k3os/system/kernel/current/initrd
    shouldExist: true
  - name: kernel
    path: /usr/src/iso/k3os/system/kernel/current/kernel.squashfs
    shouldExist: true
  - name: k3os link
    path: /usr/src/iso/sbin/k3os
    shouldExist: true
  - name: k3s link
    path: /usr/src/iso/sbin/k3s
    shouldExist: true
  - name: crictl link
    path: /usr/src/iso/sbin/crictl
    shouldExist: true
  - name: ctr link
    path: /usr/src/iso/sbin/ctr
    shouldExist: true
  - name: init link
    path: /usr/src/iso/sbin/init
    shouldExist: true
  - name: kubectl link
    path: /usr/src/iso/sbin/kubectl
    shouldExist: true
